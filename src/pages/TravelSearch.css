.ts-wrap{max-width:1000px;margin:24px auto;padding:0 12px}

/* header */
.ts-top{display:flex;justify-content:space-between;align-items:center}
.ts-back{text-decoration:none}

/* chips */
.ts-chipbar{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0;background:#fff;border:1px solid #eaeaea;border-radius:12px;padding:10px}
.ts-chipbar span{background:#f6f8ff;border:1px solid #e8ecff;color:#2540cc;padding:6px 10px;border-radius:999px}

/* controls */
.ts-controls{margin:12px 0;display:flex;justify-content:space-between;align-items:center;gap:12px}
.ts-leftCtrl{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.ts-rightCtrl{display:flex;align-items:center;gap:10px}
.sortLbl{color:#555}
.ts-sort{border:1px solid #e1e4ef;border-radius:8px;padding:8px 10px;background:#fff}
.ts-count{color:#666;font-size:14px}

/* toggle */
.ts-switch{position:relative;display:flex;align-items:center;gap:8px}
.ts-switch input{display:none}
.ts-switch .slider{width:38px;height:22px;background:#d3d8ef;border-radius:999px;position:relative;display:inline-block}
.ts-switch .slider::after{content:"";width:18px;height:18px;background:#fff;border-radius:999px;position:absolute;top:2px;left:2px;transition:.2s ease;box-shadow:0 1px 4px rgba(0,0,0,.15)}
.ts-switch input:checked+.slider{background:#2f5bea}
.ts-switch input:checked+.slider::after{left:18px}
.ts-switch em{color:#333;font-style:normal}

/* airline chips */
.ts-airlines{display:flex;gap:8px;flex-wrap:wrap}
.ts-chip{border:1px solid #e1e4ef;border-radius:999px;padding:6px 10px;display:flex;align-items:center;gap:6px;background:#fff;cursor:pointer}
.ts-chip input{accent-color:#2f5bea}
.ts-chip.active{background:#eef2ff;border-color:#cfd8ff}

/* list */
.ts-list{list-style:none;padding:0;display:grid;gap:10px;margin:14px 0}

/* skeleton */
.skeleton{background:#fff;border:1px solid #eee;border-radius:12px;padding:12px;display:flex;justify-content:space-between}
.sk-left,.sk-right{background:linear-gradient(90deg,#f4f4f4,#eaeaea,#f4f4f4);background-size:200% 100%;animation:shimmer 1.2s infinite;border-radius:8px}
.sk-left{width:70%;height:48px}
.sk-right{width:20%;height:48px}
@keyframes shimmer{0%{background-position:200% 0}100%{background-position:-200% 0}}

/* card */
.ts-card{background:#fff;border:1px solid #eee;border-radius:12px;padding:12px;display:flex;align-items:center;justify-content:space-between;gap:12px}
.ts-left{display:flex;flex-direction:column;gap:8px;min-width:0}
.ts-airline{font-weight:800}
.ts-times{display:flex;align-items:center;gap:16px;flex-wrap:wrap}
.time .t{font-weight:700}
.time .city{color:#666;font-size:12px}
.mid{display:flex;align-items:center;gap:8px;color:#444}
.mid .dur{font-weight:600}
.mid .dots{display:inline-block;width:56px;height:6px;border-top:2px solid #ccc;position:relative}
.mid .dots::before,.mid .dots::after{content:"";width:6px;height:6px;background:#ccc;border-radius:999px;position:absolute;top:-4px}
.mid .dots::before{left:-2px}.mid .dots::after{right:-2px}
.stops{font-size:12px;color:#666}
.ts-right{display:flex;align-items:center;gap:12px}
.ts-price{font-weight:900;font-size:18px}
.ts-btn{border:none;background:#2f5bea;color:#fff;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:800}
.ts-btn:hover{filter:brightness(.95)}

/* empty + pager */
.ts-empty{background:#fff6e6;border:1px solid #ffe2b7;color:#7a5200;padding:12px;border-radius:10px;margin-top:12px}
.ts-pager{display:flex;justify-content:center;margin:8px 0 16px}
.load-more{border:1px solid #e1e4ef;background:#fff;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
.load-more:hover{background:#f6f8ff}

/* base booking modal */
.bk-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:center;justify-content:center;z-index:50}
.bk-modal{width:min(640px,92vw);background:#fff;border-radius:14px;border:1px solid #e8e8e8;box-shadow:0 20px 60px rgba(0,0,0,.25)}
.bk-header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #eee}
.bk-title{font-weight:800}
.bk-close{border:none;background:transparent;font-size:18px;cursor:pointer}
.bk-body{padding:12px 14px;display:flex;flex-direction:column;gap:12px}
.bk-row{display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.bk-air{font-weight:800}.bk-route{color:#444}.bk-label{font-size:12px;color:#666}.bk-val{font-weight:600}
.fare{border:1px dashed #d6d9e6;border-radius:12px;padding:10px}
.fare .line{display:flex;justify-content:space-between;margin:4px 0}
.fare .total{font-weight:900}
.bk-actions{display:flex;justify-content:flex-end;gap:10px;padding:12px 14px;border-top:1px solid #eee}
.bk-secondary{border:1px solid #e1e4ef;background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.bk-primary{border:none;background:#111827;color:#fff;border-radius:10px;padding:8px 14px;cursor:pointer;font-weight:800}

@media (max-width:720px){
  .ts-times{flex-direction:column;align-items:flex-start;gap:6px}
}

/* ===== POPUP CREATIVE (centered plane + working legend) ===== */
.bk-backdrop{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:10px;z-index:1000;background:linear-gradient(180deg,rgba(6,12,30,.45),rgba(6,12,30,.35));backdrop-filter:blur(8px) saturate(1.1)}
.bk-modal-seat{width:min(980px,100%);max-height:94dvh;display:flex;flex-direction:column;border-radius:18px;border:1px solid rgba(255,255,255,.65);background:linear-gradient(180deg,rgba(255,255,255,.98),rgba(255,255,255,.92));box-shadow:0 30px 80px rgba(15,23,42,.32);overflow:hidden}
.bk-header{position:sticky;top:0;z-index:3;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(180deg,rgba(255,255,255,.90),rgba(255,255,255,.75));backdrop-filter:blur(8px);border-bottom:1px solid rgba(0,0,0,.06)}
.bk-title{font-weight:900;letter-spacing:.2px;display:flex;align-items:center;gap:8px}
.glow-dot{width:8px;height:8px;border-radius:50%;background:#16a34a;box-shadow:0 0 12px rgba(22,163,74,.85)}
.bk-content{display:grid;grid-template-columns:360px 1fr;gap:16px;padding:14px 16px 88px;overflow:auto}
.bk-pane{background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:12px}

/* summary */
.top-flight{align-items:center;gap:10px}
.air-pill{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;background:linear-gradient(135deg,#2f5bea,#7c3aed);color:#fff;font-weight:900;box-shadow:0 10px 20px rgba(47,91,234,.24)}
.flight-card{border:1px solid #eef2ff;border-radius:12px;padding:10px;margin-top:10px;background:linear-gradient(180deg,#fff,#f7faff)}
.fc-row{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px}
.fc-time .t{font-weight:800;font-size:18px}
.fc-time .c{font-size:12px;color:#6b7280}
.fc-mid{display:flex;align-items:center;gap:8px}
.fc-line{width:78px;height:2px;background:linear-gradient(90deg,#e5e7eb,#c7d2fe);border-radius:999px;display:inline-block}
.fc-stop{font-size:12px;color:#6b7280;border:1px solid #e5e7eb;padding:2px 8px;border-radius:999px}
.fc-stop.ok{color:#16a34a;border-color:rgba(22,163,74,.25);background:rgba(22,163,74,.06)}
.fc-meta{display:flex;gap:8px;align-items:center;margin-top:8px;color:#64748b;font-size:12px}
.fc-meta .tag{margin-left:auto;border:1px solid #e5e7eb;padding:2px 8px;border-radius:999px;font-weight:700;color:#111827}

/* fancy fare */
.fare.fancy{background:linear-gradient(180deg,#fff,#fbfbff);border-style:dashed;margin-top:12px}
.fare .line{display:flex;justify-content:space-between;padding:6px 0}
.fare .line.total{border-top:1px solid #e5e7eb;margin-top:6px;padding-top:10px;font-weight:900}
.bk-error{margin-top:8px;color:#b91c1c;background:#fff1f2;border:1px solid #fecaca;padding:6px 8px;border-radius:8px}

/* seat tools + legend */
.seatbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}
.btn-subtle{border:1px solid #e5e7eb;background:#fff;border-radius:10px;padding:6px 10px;cursor:pointer;font-weight:700}
.btn-subtle:hover{background:#f9fafb}
.legend.legend-controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:8px}
.legend-controls input{accent-color:#2f5bea;margin-right:6px}
.legend-controls .sq{width:12px;height:12px;border-radius:3px;border:1px solid #d1d5db;margin-right:6px}
.legend-controls .available{background:#f9fafb}
.legend-controls .chosen{background:#2f5bea;border-color:#2f5bea}
.legend-controls .taken{background:#d1d5db}
.exit-label{margin-left:auto;color:#ef4444;font-weight:700}

/* ====== Equal spacing + centered cabin ====== */
:root{ --seat:32px; --aisle:40px; --rowno:28px; }
@media (max-width:640px){ :root{ --seat:28px; --aisle:28px; --rowno:24px; } }

.fuselage{
  position:relative;
  max-width:720px;
  margin:0 auto;
  padding:28px 18px 40px;
  background: radial-gradient(140% 80% at 50% -20%, #f4f7ff, #ffffff 50%) no-repeat,
              linear-gradient(180deg,#fff,#f8fbff);
  border:1px solid #e5e7eb;
  border-radius:22px;
  box-shadow:0 10px 26px rgba(47,91,234,.08);
}
.fuselage::before{
  content:"";
  position:absolute; left:50%; transform:translateX(-50%); top:-16px;
  width:200px; height:34px; border-radius:999px 999px 0 0;
  background:radial-gradient(120px 24px at 50% 100%, #e9eeff, #ffffff 70%);
  border:1px solid #e5e7eb; border-bottom:none; filter:blur(.2px);
}
.fuselage::after{
  content:"";
  position:absolute; left:50%; transform:translateX(-50%); bottom:-12px;
  width:220px; height:22px; border-radius:0 0 999px 999px;
  background:radial-gradient(120px 20px at 50% 0%, #e9eeff, #ffffff 70%);
  border:1px solid #e5e7eb; border-top:none;
}

/* seat grid centered */
.seat-grid.fx{border:1px solid #e5e7eb;border-radius:16px;background:#fff;padding:12px;box-shadow:inset 0 0 0 1px #f1f5f9}
.seat-grid.fx .row{
  display:grid;
  grid-template-columns:
    var(--rowno)
    repeat(3, var(--seat))
    var(--aisle)
    repeat(3, var(--seat))
    var(--rowno);
  justify-content:center;
  align-items:center;
  gap:10px;
  padding:8px 0;
}
.seat-grid.fx .row + .row{border-top:1px dashed #f1f5f9}
.seat-grid.fx .row.exit-row{background:#fff9f2}
.seat-grid.fx .rowno{text-align:center;font-size:12px;color:#6b7280}

/* aisle plate */
.seat-grid.fx .row > :nth-child(5){
  background:linear-gradient(180deg,#fafafa,#f5f7ff);
  border-radius:12px; height:100%; width:100%;
  box-shadow:inset 0 0 0 1px #eef2ff;
}

/* seat look */
.seat{width:var(--seat);height:var(--seat);border-radius:11px;border:1px solid #d1d5db;background:#f9fafb;display:grid;place-items:center;font-weight:800;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease,background .12s ease,border-color .12s ease}
.seat:hover{transform:translateY(-1px);background:#eef2ff;box-shadow:0 6px 14px rgba(47,91,234,.14)}
.seat.chosen{background:#2f5bea;color:#fff;border-color:#2f5bea;box-shadow:0 8px 16px rgba(47,91,234,.28)}
.seat.taken{background:#e5e7eb;color:#9ca3af;border-color:#d1d5db;cursor:not-allowed}
.seat.hidden{opacity:.18;pointer-events:none}
.seat.window{outline:2px dotted rgba(124,58,237,.18);outline-offset:2px}
.seat.aisle{box-shadow:inset 0 0 0 2px rgba(37,99,235,.08)}

/* sticky footer */
.bk-footer{position:sticky;bottom:0;z-index:3;display:flex;align-items:center;gap:12px;padding:12px 16px;background:linear-gradient(180deg,rgba(255,255,255,.85),rgba(255,255,255,.95));backdrop-filter:blur(8px);border-top:1px solid rgba(0,0,0,.06)}
.bk-picked{flex:1;font-weight:700}
.bk-total{text-align:right;margin-right:6px}
.bk-total .amt{font-weight:900;font-size:18px;line-height:1}
.bk-total .sub{font-size:11px;color:#6b7280}
.bk-primary{border:none;color:#fff;font-weight:800;cursor:pointer;border-radius:12px;padding:10px 16px;background:linear-gradient(90deg,#2f5bea,#7c3aed)}

/* responsive */
@media (max-width:960px){.bk-content{grid-template-columns:1fr}}
@media (max-width:640px){
  .fuselage{max-width:100%;padding:16px 12px 28px}
  .seat-grid.fx .row{grid-template-columns:24px repeat(3,28px) 20px repeat(3,28px) 24px;gap:6px}
}
